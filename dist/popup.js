(()=>{"use strict";function e(){const e=["SCRIPT","STYLE","NOSCRIPT","IFRAME","OBJECT"],t=document.body;if(!t)return"";return function t(o){let n="";return o.childNodes.forEach((o=>{e.includes(o.nodeName)||(o.nodeType===Node.TEXT_NODE?n+=o.textContent||"":n+=t(o))})),n}(t).trim()}function t(){chrome.storage.sync.get(["blockedWords"],(e=>{const t=e.blockedWords||[];!function e(o){if(o.nodeType===Node.TEXT_NODE){let e=o.textContent||"";t.forEach((t=>{const o=new RegExp(t,"gi");e=e.replace(o,(e=>"*".repeat(e.length)))})),o.textContent=e}else o.nodeType===Node.ELEMENT_NODE&&(["SCRIPT","STYLE","NOSCRIPT"].includes(o.nodeName)||o.childNodes.forEach(e))}(document.body)}))}window.addEventListener("DOMContentLoaded",(o=>{const n=document.getElementById("extractButton");n&&n.addEventListener("click",(()=>{chrome.tabs.query({active:!0,currentWindow:!0},(t=>{void 0!==t[0].id&&chrome.scripting.executeScript({target:{tabId:t[0].id},func:e},(e=>{const t=document.getElementById("result");t&&(e&&e[0].result?t.textContent="Extracted Text: "+e[0].result:t.textContent="No text found!")}))}))}));const d=document.getElementById("saveBlockedWords");d&&d.addEventListener("click",(()=>{const e=document.getElementById("blockedWords").value.split(",").map((e=>e.trim())).filter((e=>e.length>0));chrome.storage.sync.set({blockedWords:e},(()=>{console.log("Blocked words saved:",e),alert("Blocked words saved!")}))}));const c=document.getElementById("blockWordsButton");c&&c.addEventListener("click",(()=>{chrome.tabs.query({active:!0,currentWindow:!0},(e=>{void 0!==e[0].id&&chrome.scripting.executeScript({target:{tabId:e[0].id},func:t})}))}))}))})();