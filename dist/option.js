(()=>{"use strict";var e={481:(e,t)=>{function o(){let e=!1,t=0;document.getElementById("wordList")||chrome.storage.sync.get(["blockedWords"],(o=>{const r=o.blockedWords||[];!function o(n){if(n.nodeType===Node.TEXT_NODE){let o=n.textContent||"";r.forEach((r=>{const n={a:"[aàáâäãåAÀÁÂÄÃÅ]",e:"[eéèêëEÉÈÊË]",i:"[iíîïIÍÎÏ]",o:"[oòóôöõOÒÓÔÖÕ]",u:"[uùúûüUÙÚÛÜ]"},c=new RegExp(`\\b${(e=>e.replace(/[aeiouáàâäãåéèêëíîïóòôöõúûü]/gi,(e=>{const t=e.toLowerCase();return n[t]||e})))(r)}\\w{0,2}\\b`,"gi"),d=o.match(c);d&&(e=!0,t+=d.length,o=o.replace(c,(e=>"*".repeat(e.length))))})),n.textContent=o}else n.nodeType===Node.ELEMENT_NODE&&(["SCRIPT","STYLE","NOSCRIPT"].includes(n.nodeName)||n.childNodes.forEach(o))}(document.body),e&&alert(`Cette page contient ${t} mot(s) bloqué(s) !`)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.blockWords=o,window.addEventListener("DOMContentLoaded",(()=>{o()})),new MutationObserver((()=>{o()})).observe(document.body,{childList:!0,subtree:!0})},114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchJSONData=function(){return fetch(chrome.runtime.getURL("../assets/trigger_db.json")).then((e=>e.json())).then((e=>e.categories)).catch((e=>{throw console.error("Erreur lors du chargement du JSON:",e),e}))},t.afficherAvis=function(e){const t=document.createElement("p");for(const o in e)if(e.hasOwnProperty(o)){const r=e[o];"object"==typeof r?t.innerHTML+=`${o}: ${JSON.stringify(r,null,2)}`:console.log(`${o}: ${r}`)}document.getElementById("trigger_list").appendChild(t)}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,o),c.exports}(()=>{const e=o(114),t=o(114),r=o(481);window.addEventListener("DOMContentLoaded",(e=>{document.getElementById("wordInput"),document.getElementById("addWordButton");const t=document.getElementById("saveBlockedWords");t&&t.addEventListener("click",(()=>{const e=document.getElementById("blockedWords").value.split(",").map((e=>e.trim())).filter((e=>e.length>0));chrome.storage.sync.set({blockedWords:e}),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{void 0!==e[0].id&&chrome.scripting.executeScript({target:{tabId:e[0].id},func:()=>{console.log("Executing blockWords function"),(0,r.blockWords)()}},(()=>{chrome.runtime.lastError&&console.error(chrome.runtime.lastError.message)}))}))}))}));const n=document.getElementById("saveBlockedWords"),c=document.getElementById("blockedWords"),d=document.getElementById("wordList"),s=document.getElementById("wordItemTemplate");function i(){d.innerHTML="",chrome.storage.sync.get("blockedWords",(e=>{(e.blockedWords||[]).forEach((e=>{const t=document.importNode(s.content,!0).firstElementChild;if(t){const o=t.querySelector(".word-text");o&&(o.textContent=e);const n=t.querySelector(".remove-word-button");n&&n.addEventListener("click",(()=>{var t;t=e,chrome.storage.sync.get("blockedWords",(e=>{const o=(e.blockedWords||[]).filter((e=>e!==t));chrome.storage.sync.set({blockedWords:o},(()=>{chrome.runtime.lastError?console.error("Error saving blocked words:",chrome.runtime.lastError):console.log("Blocked words updated:",o),i(),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{void 0!==e[0].id?chrome.scripting.executeScript({target:{tabId:e[0].id},func:r.blockWords}):console.error("No active tab found!")}))}))}))})),d.appendChild(t)}}))}))}n.addEventListener("click",(()=>{if(c){const t=c.value.split(",").map((e=>e.trim())).filter((e=>e.length>0));e=t,chrome.storage.sync.get("blockedWords",(t=>{const o=t.blockedWords||[],n=[...new Set([...o,...e])];chrome.storage.sync.set({blockedWords:n},(()=>{chrome.runtime.lastError?console.error("Error saving blocked words:",chrome.runtime.lastError):console.log("Blocked words saved to storage:",n),i(),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{void 0!==e[0].id?chrome.scripting.executeScript({target:{tabId:e[0].id},func:r.blockWords}):console.error("No active tab found!")}))}))})),c.value=""}var e})),document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("showTriggerOption").addEventListener("click",(()=>{(0,e.fetchJSONData)().then((e=>{document.getElementById("trigger_list")&&(0,t.afficherAvis)(e)})).catch((e=>{console.error("Erreur lors du chargement du JSON:",e)}))}))})),i(),document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("showTriggerOption").addEventListener("click",(()=>{(0,e.fetchJSONData)().then((e=>{document.getElementById("trigger_list")&&(0,t.afficherAvis)(e)})).catch((e=>{console.error("Erreur lors du chargement du JSON:",e)}))}))}))})()})();