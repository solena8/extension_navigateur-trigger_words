(()=>{"use strict";window.addEventListener("DOMContentLoaded",(e=>{fetch("./assets/trigger_db.json").then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>console.log(e))).catch((e=>console.error("Unable to fetch data:",e))),function(){let e=!1;chrome.storage.sync.get(["blockedWords"],(t=>{const o=t.blockedWords||[];!function t(n){if(n.nodeType===Node.TEXT_NODE){let t=n.textContent||"";o.forEach((o=>{const n=new RegExp(`\\b${o}\\w{0,2}\\b`,"gi");n.test(t)&&(e=!0,t=t.replace(n,(e=>"*".repeat(e.length))))})),n.textContent=t}else n.nodeType===Node.ELEMENT_NODE&&(["SCRIPT","STYLE","NOSCRIPT"].includes(n.nodeName)||n.childNodes.forEach(t))}(document.body),e&&alert("Cette page contient des mots bloqu√©s !")}))}()}))})();