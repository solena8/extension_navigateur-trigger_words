(()=>{"use strict";var e={481:(e,o)=>{function t(){let e=!1,o=0;document.getElementById("wordList")||chrome.storage.sync.get(["blockedWords"],(t=>{const r=t.blockedWords||[];!function t(n){if(n.nodeType===Node.TEXT_NODE){let t=n.textContent||"";r.forEach((r=>{const n={a:"[aàáâäãåAÀÁÂÄÃÅ]",e:"[eéèêëEÉÈÊË]",i:"[iíîïIÍÎÏ]",o:"[oòóôöõOÒÓÔÖÕ]",u:"[uùúûüUÙÚÛÜ]"},c=new RegExp(`\\b${(e=>e.replace(/[aeiouáàâäãåéèêëíîïóòôöõúûü]/gi,(e=>{const o=e.toLowerCase();return n[o]||e})))(r)}\\w{0,2}\\b`,"gi"),s=t.match(c);s&&(e=!0,o+=s.length,t=t.replace(c,(e=>"*".repeat(e.length))))})),n.textContent=t}else n.nodeType===Node.ELEMENT_NODE&&(["SCRIPT","STYLE","NOSCRIPT"].includes(n.nodeName)||n.childNodes.forEach(t))}(document.body),e&&alert(`Cette page contient ${o} mot(s) bloqué(s) !`)}))}Object.defineProperty(o,"__esModule",{value:!0}),o.blockWords=t,window.addEventListener("DOMContentLoaded",(()=>{t()})),new MutationObserver((()=>{t()})).observe(document.body,{childList:!0,subtree:!0})},522:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addWordList=function(e,o="blockedWords"){chrome.storage.sync.get(o,(t=>{const n=t[o]||[],c=[...new Set([...n,...e])];chrome.storage.sync.set({[o]:c},(()=>{chrome.runtime.lastError?console.error("Error saving words:",chrome.runtime.lastError):console.log(`Words saved to storage under key "${o}":`,c),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var o;void 0!==(null===(o=e[0])||void 0===o?void 0:o.id)?chrome.scripting.executeScript({target:{tabId:e[0].id},func:r.blockWords}):console.error("No active tab found!")}))}))}))},o.removeWordList=function(e){chrome.storage.sync.get("blockedWords",(o=>{const t=(o.blockedWords||[]).filter((o=>o!==e));chrome.storage.sync.set({blockedWords:t},(()=>{chrome.runtime.lastError?console.error("Error saving blocked words:",chrome.runtime.lastError):console.log("Blocked words updated:",t),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{void 0!==e[0].id?chrome.scripting.executeScript({target:{tabId:e[0].id},func:r.blockWords}):console.error("No active tab found!")}))}))}))},o.getSubcategories=function(e,o){let t=[];return o.forEach((o=>{Object.keys(e).forEach((r=>{e[r][o]?t=t.concat(e[r][o]):r===o&&Object.values(e[r]).forEach((e=>{t=t.concat(e)}))}))})),console.log(t),t};const r=t(481)}},o={};function t(r){var n=o[r];if(void 0!==n)return n.exports;var c=o[r]={exports:{}};return e[r](c,c.exports,t),c.exports}(()=>{const e=t(522),o=t(522);function r(){return fetch(chrome.runtime.getURL("./assets/trigger_db.json")).then((e=>e.json())).then((e=>e.categories)).catch((e=>{throw console.error("Erreur lors du chargement du JSON:",e),e}))}document.getElementById("trigger_list").addEventListener("click",(t=>{if("BUTTON"!==t.target.nodeName)return;let n;if(n=t.target.id,"validateOptionButton"===n){var c=document.querySelectorAll("input[type=checkbox]:checked");let t=Array.from(c).map((e=>e.id));return t.pop(),void r().then((r=>{let n=(0,o.getSubcategories)(r,t);(0,e.addWordList)(n),console.log(n)})).catch((e=>{console.error("Erreur lors du chargement du JSON:",e)}))}r().then((e=>{!function(e,o){if(e.hasOwnProperty(o)){const t=e[o];if(document.getElementById(`sub-${o}`).hasChildNodes())document.getElementById(`sub-${o}`).innerHTML="";else{const e=document.createElement("p");for(const[o,[r]]of Object.entries(Object.entries(t)))e.innerHTML+=`\n                        <div>\n                            <input type="checkbox" id="${r}" name="categorie"/>\n                            <label for="categorie">${r}</label>\n                        </div>\n                        </br>`;document.getElementById(`sub-${o}`).appendChild(e)}}else console.error(`Catégorie "${o}" non trouvée.`)}(e,n)})).catch((e=>{console.error("Erreur lors du chargement du JSON:",e)}))}))})()})();