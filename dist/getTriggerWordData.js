(()=>{"use strict";document.getElementById("trigger_list").addEventListener("click",(e=>{if("BUTTON"!==e.target.nodeName)return;let t;if(t=e.target.id,"validateOptionButton"===t){var r=document.querySelectorAll("input[type=checkbox]:checked");let e=Array.from(r).map((e=>e.id));return e.pop(),void console.log(e)}fetch(chrome.runtime.getURL("./assets/trigger_db.json")).then((e=>e.json())).then((e=>e.categories)).catch((e=>{throw console.error("Erreur lors du chargement du JSON:",e),e})).then((e=>{!function(e,t){if(e.hasOwnProperty(t)){const r=e[t];if(document.getElementById(`sub-${t}`).hasChildNodes())document.getElementById(`sub-${t}`).innerHTML="";else{const e=document.createElement("p");for(const[t,[n]]of Object.entries(Object.entries(r)))e.innerHTML+=`\n                        <div>\n                            <input type="checkbox" id="${n}" name="categorie"/>\n                            <label for="categorie">${n}</label>\n                        </div>\n                        </br>`;document.getElementById(`sub-${t}`).appendChild(e)}}else console.error(`Catégorie "${t}" non trouvée.`)}(e,t)})).catch((e=>{console.error("Erreur lors du chargement du JSON:",e)}))}))})();